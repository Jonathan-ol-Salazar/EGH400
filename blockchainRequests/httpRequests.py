import json
import requests

# Practice script for making requests

# Error tests
# "121.5,61,0' AMSL" '180.0m'
# ["90,47.0,0' AMSL", '9.0m']


URLpost = "http://127.0.0.1:1317/skyy/cylinder"

data = {
    "base_req": {
        "chain_id": "skyyNetwork",
        "from": "skyy14a5vmle5xwjz7tcawcgt0leu3vp90vugt9ugry",
        "gas": "auto"
    },
    "start_time": "2020-09-29T00:00:00Z",
    "expire_time": "2020-09-29T01:00:00Z",
    # "location": "42,-70,0' AMSL",
    # "radius": "10m",
    "location": "-47,90,0' AMSL",
    "radius": '9m',
    "height": "10m"
}

# POST 
resp = requests.post(URLpost, json=data)

if resp.status_code == 200:
    print("APPROVED")
else:
    print("DENIED")

# # if resp.status_code != 201:
# #     raise ApiError('POST /tasks/ {}'.format(resp.status_code))
# x = {"type":"cosmos-sdk/StdTx","value":{"msg":[{"type":"skyy/SetPolyhedron","value":{"polyhedron":{"uid":"8cfb212a-b155-4267-a968-953e88d38930","type":"reservation","start_time":"2020-09-29T00:00:00Z","expire_time":"2020-09-29T01:00:00Z","triangles":[["42,-69.9999550339197,0\' AMSL","42,-69.9999550339197,10\' AMSL","42.00001720777395,-69.99995845675876,0\' AMSL"],["42,-69.9999550339197,10\' AMSL","42.00001720777395,-69.99995845675876,0\' AMSL","42.00001720777395,-69.99995845675876,10\' AMSL"],["42.00001720777395,-69.99995845675876,0\' AMSL","42.00001720777395,-69.99995845675876,10\' AMSL","42.0000317958203,-69.9999682041797,0\' AMSL"],["42.00001720777395,-69.99995845675876,10\' AMSL","42.0000317958203,-69.9999682041797,0\' AMSL","42.0000317958203,-69.9999682041797,10\' AMSL"],["42.0000317958203,-69.9999682041797,0\' AMSL","42.0000317958203,-69.9999682041797,10\' AMSL","42.000041543241245,-69.99998279222605,0\' AMSL"],["42.0000317958203,-69.9999682041797,10\' AMSL","42.000041543241245,-69.99998279222605,0\' AMSL","42.000041543241245,-69.99998279222605,10\' AMSL"],["42.000041543241245,-69.99998279222605,0\' AMSL","42.000041543241245,-69.99998279222605,10\' AMSL","42.000044966080296,-70,0\' AMSL"],["42.000041543241245,-69.99998279222605,10\' AMSL","42.000044966080296,-70,0\' AMSL","42.000044966080296,-70,10\' AMSL"],["42.000044966080296,-70,0\' AMSL","42.000044966080296,-70,10\' AMSL","42.000041543241245,-70.00001720777395,0\' AMSL"],["42.000044966080296,-70,10\' AMSL","42.000041543241245,-70.00001720777395,0\' AMSL","42.000041543241245,-70.00001720777395,10\' AMSL"],["42.000041543241245,-70.00001720777395,0\' AMSL","42.000041543241245,-70.00001720777395,10\' AMSL","42.0000317958203,-70.0000317958203,0\' AMSL"],["42.000041543241245,-70.00001720777395,10\' AMSL","42.0000317958203,-70.0000317958203,0\' AMSL","42.0000317958203,-70.0000317958203,10\' AMSL"],["42.0000317958203,-70.0000317958203,0\' AMSL","42.0000317958203,-70.0000317958203,10\' AMSL","42.00001720777395,-70.00004154324124,0\' AMSL"],["42.0000317958203,-70.0000317958203,10\' AMSL","42.00001720777395,-70.00004154324124,0\' AMSL","42.00001720777395,-70.00004154324124,10\' AMSL"],["42.00001720777395,-70.00004154324124,0\' AMSL","42.00001720777395,-70.00004154324124,10\' AMSL","42,-70.0000449660803,0\' AMSL"],["42.00001720777395,-70.00004154324124,10\' AMSL","42,-70.0000449660803,0\' AMSL","42,-70.0000449660803,10\' AMSL"],["42,-70.0000449660803,0\' AMSL","42,-70.0000449660803,10\' AMSL","41.99998279222605,-70.00004154324124,0\' AMSL"],["42,-70.0000449660803,10\' AMSL","41.99998279222605,-70.00004154324124,0\' AMSL","41.99998279222605,-70.00004154324124,10\' AMSL"],["41.99998279222605,-70.00004154324124,0\' AMSL","41.99998279222605,-70.00004154324124,10\' AMSL","41.9999682041797,-70.0000317958203,0\' AMSL"],["41.99998279222605,-70.00004154324124,10\' AMSL","41.9999682041797,-70.0000317958203,0\' AMSL","41.9999682041797,-70.0000317958203,10\' AMSL"],["41.9999682041797,-70.0000317958203,0\' AMSL","41.9999682041797,-70.0000317958203,10\' AMSL","41.999958456758755,-70.00001720777395,0\' AMSL"],["41.9999682041797,-70.0000317958203,10\' AMSL","41.999958456758755,-70.00001720777395,0\' AMSL","41.999958456758755,-70.00001720777395,10\' AMSL"],["41.999958456758755,-70.00001720777395,0\' AMSL","41.999958456758755,-70.00001720777395,10\' AMSL","41.999955033919704,-70,0\' AMSL"],["41.999958456758755,-70.00001720777395,10\' AMSL","41.999955033919704,-70,0\' AMSL","41.999955033919704,-70,10\' AMSL"],["41.999955033919704,-70,0\' AMSL","41.999955033919704,-70,10\' AMSL","41.999958456758755,-69.99998279222605,0\' AMSL"],["41.999955033919704,-70,10\' AMSL","41.999958456758755,-69.99998279222605,0\' AMSL","41.999958456758755,-69.99998279222605,10\' AMSL"],["41.999958456758755,-69.99998279222605,0\' AMSL","41.999958456758755,-69.99998279222605,10\' AMSL","41.9999682041797,-69.9999682041797,0\' AMSL"],["41.999958456758755,-69.99998279222605,10\' AMSL","41.9999682041797,-69.9999682041797,0\' AMSL","41.9999682041797,-69.9999682041797,10\' AMSL"],["41.9999682041797,-69.9999682041797,0\' AMSL","41.9999682041797,-69.9999682041797,10\' AMSL","41.99998279222605,-69.99995845675876,0\' AMSL"],["41.9999682041797,-69.9999682041797,10\' AMSL","41.99998279222605,-69.99995845675876,0\' AMSL","41.99998279222605,-69.99995845675876,10\' AMSL"],["41.99998279222605,-69.99995845675876,0\' AMSL","41.99998279222605,-69.99995845675876,10\' AMSL","42,-69.9999550339197,0\' AMSL"],["41.99998279222605,-69.99995845675876,10\' AMSL","42,-69.9999550339197,0\' AMSL","42,-69.9999550339197,10\' AMSL"],["42,-69.9999550339197,0\' AMSL","42.00001720777395,-69.99995845675876,0\' AMSL","42,-70,0\' AMSL"],["42,-69.9999550339197,10\' AMSL","42.00001720777395,-69.99995845675876,10\' AMSL","42,-70,10\' AMSL"],["42.00001720777395,-69.99995845675876,0\' AMSL","42.0000317958203,-69.9999682041797,0\' AMSL","42,-70,0\' AMSL"],["42.00001720777395,-69.99995845675876,10\' AMSL","42.0000317958203,-69.9999682041797,10\' AMSL","42,-70,10\' AMSL"],["42.0000317958203,-69.9999682041797,0\' AMSL","42.000041543241245,-69.99998279222605,0\' AMSL","42,-70,0\' AMSL"],["42.0000317958203,-69.9999682041797,10\' AMSL","42.000041543241245,-69.99998279222605,10\' AMSL","42,-70,10\' AMSL"],["42.000041543241245,-69.99998279222605,0\' AMSL","42.000044966080296,-70,0\' AMSL","42,-70,0\' AMSL"],["42.000041543241245,-69.99998279222605,10\' AMSL","42.000044966080296,-70,10\' AMSL","42,-70,10\' AMSL"],["42.000044966080296,-70,0\' AMSL","42.000041543241245,-70.00001720777395,0\' AMSL","42,-70,0\' AMSL"],["42.000044966080296,-70,10\' AMSL","42.000041543241245,-70.00001720777395,10\' AMSL","42,-70,10\' AMSL"],["42.000041543241245,-70.00001720777395,0\' AMSL","42.0000317958203,-70.0000317958203,0\' AMSL","42,-70,0\' AMSL"],["42.000041543241245,-70.00001720777395,10\' AMSL","42.0000317958203,-70.0000317958203,10\' AMSL","42,-70,10\' AMSL"],["42.0000317958203,-70.0000317958203,0\' AMSL","42.00001720777395,-70.00004154324124,0\' AMSL","42,-70,0\' AMSL"],["42.0000317958203,-70.0000317958203,10\' AMSL","42.00001720777395,-70.00004154324124,10\' AMSL","42,-70,10\' AMSL"],["42.00001720777395,-70.00004154324124,0\' AMSL","42,-70.0000449660803,0\' AMSL","42,-70,0\' AMSL"],["42.00001720777395,-70.00004154324124,10\' AMSL","42,-70.0000449660803,10\' AMSL","42,-70,10\' AMSL"],["42,-70.0000449660803,0\' AMSL","41.99998279222605,-70.00004154324124,0\' AMSL","42,-70,0\' AMSL"],["42,-70.0000449660803,10\' AMSL","41.99998279222605,-70.00004154324124,10\' AMSL","42,-70,10\' AMSL"],["41.99998279222605,-70.00004154324124,0\' AMSL","41.9999682041797,-70.0000317958203,0\' AMSL","42,-70,0\' AMSL"],["41.99998279222605,-70.00004154324124,10\' AMSL","41.9999682041797,-70.0000317958203,10\' AMSL","42,-70,10\' AMSL"],["41.9999682041797,-70.0000317958203,0\' AMSL","41.999958456758755,-70.00001720777395,0\' AMSL","42,-70,0\' AMSL"],["41.9999682041797,-70.0000317958203,10\' AMSL","41.999958456758755,-70.00001720777395,10\' AMSL","42,-70,10\' AMSL"],["41.999958456758755,-70.00001720777395,0\' AMSL","41.999955033919704,-70,0\' AMSL","42,-70,0\' AMSL"],["41.999958456758755,-70.00001720777395,10\' AMSL","41.999955033919704,-70,10\' AMSL","42,-70,10\' AMSL"],["41.999955033919704,-70,0\' AMSL","41.999958456758755,-69.99998279222605,0\' AMSL","42,-70,0\' AMSL"],["41.999955033919704,-70,10\' AMSL","41.999958456758755,-69.99998279222605,10\' AMSL","42,-70,10\' AMSL"],["41.999958456758755,-69.99998279222605,0\' AMSL","41.9999682041797,-69.9999682041797,0\' AMSL","42,-70,0\' AMSL"],["41.999958456758755,-69.99998279222605,10\' AMSL","41.9999682041797,-69.9999682041797,10\' AMSL","42,-70,10\' AMSL"],["41.9999682041797,-69.9999682041797,0\' AMSL","41.99998279222605,-69.99995845675876,0\' AMSL","42,-70,0\' AMSL"],["41.9999682041797,-69.9999682041797,10\' AMSL","41.99998279222605,-69.99995845675876,10\' AMSL","42,-70,10\' AMSL"],["41.99998279222605,-69.99995845675876,0\' AMSL","42,-69.9999550339197,0\' AMSL","42,-70,0\' AMSL"],["41.99998279222605,-69.99995845675876,10\' AMSL","42,-69.9999550339197,10\' AMSL","42,-70,10\' AMSL"]]},"signer":"skyy14a5vmle5xwjz7tcawcgt0leu3vp90vugt9ugry"}}],"fee":{"amount":[{"denom":"skyy","amount":"1"}],"gas":"76940"},"signatures":"null","memo":""}}
# print('Created task. ID: {}'.format(resp.json()))